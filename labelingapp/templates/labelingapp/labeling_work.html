{% extends 'base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static "labelingapp/css/labeling_work.css" %}">
{% endblock %}

<!-- content title 부분 -->
{% block content-title %}
    <h2 class="content-title fs-large fw-600 gray-200">
        Data Labeling
    </h2>
{% endblock %}

{% block content %}

    <div class="container">
        <div class="tool_box">
            <form action="{% url 'labelingapp:work' %}" method="get">
                {% csrf_token %}
                <div class="product">
                    <div class="product_name">
                        <p>제품명</p>
                        <select name='category_product'>
                            {% for product_name in product_names %}
                                <option value='{{ product_name.category_product }}'>{{ product_name.category_product }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="work_count">
                        <p>작업 개수</p>
                        <input type="text" name="assignment_count" value="50" placeholder="작업할 리뷰 개수 설정">
                        <input class="btn btn-outline-dark btn-sm" type="submit" value="확인">
                        
                    </div>
                </div>
            </form>
            <div class="show_container">
                <div class="category">
                    <div class="c_text">카테고리</div>
                    <div class="c_content">
                        {% if category_detail %}
                            {% for category_detail in category_detail %}
                                <div style="background-color: {{ category_detail.category_color }}; padding:.2rem.3rem.2rem.3rem;
                                                    display: inline-block; opacity: 1;
                                                    margin-bottom:.5rem">
                                    {{ category_detail.category_middle }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
                <div class="feel">
                     <p>
                        <div style="display: inline-block; font-family: 'Nanum Gothic Coding', monospace; font-weight: 300; margin-left: 0.2rem; font-size: 1rem">
                            감정
                        </div>
                        <div style="display: inline-block; height: 2rem; width: 4rem; background-color: white; margin-left: 0.5rem;
                                padding:0.3rem; color: blue; text-align: center; font-family: 'Nanum Gothic Coding', monospace; font-weight: 200;">
                            긍정
                        </div>
                        <div style="display: inline-block; height: 2rem; width: 4rem; background-color: white; margin-left: 0.3rem;
                                padding:0.3rem; color: red; text-align: center; font-family: 'Nanum Gothic Coding', monospace; font-weight: 200;">
                            부정
                        </div>
                        <div style="display: inline-block; height: 2rem; width: 4rem; background-color: white; margin-left: 0.3rem;
                                padding:0.3rem; color: gray; text-align: center; font-family: 'Nanum Gothic Coding', monospace; font-weight: 200;">
                            중립
                        </div>
                    </p>
                </div>
                
                
            </div>
            <div class="result_container">

            </div>
            <div class="bottom">

            </div>
        </div>
    </div>    

    <script>
        function delete_label(label_number) {
            console.log(label_number)
            $.ajax({
                url: 'delete_label',
                type: 'GET',
                data: {
                    'label_number': label_number,
                },
                dataType: 'json',
                success: function (data) {
                    console.log('삭제 완료')
                    window.location.reload()
                },
                error: function (data) {
                    console.log('에러 발생')
                    window.location.reload()
                }
            })
        }
    
        function reset(review_id) {
            console.log('초기화를 시작해볼깡?')
            $.ajax({
                url: 'reset',
                type: 'GET',
                data: {
                    'review_id': review_id,
                },
                dataType: 'json',
                success: function (data) {
                    console.log('초기화 완료')
                    window.location.reload()
                },
                error: function (data) {
                    console.log('에러 발생')
                    window.location.reload()
                }
            })
        }
    </script>
{% endblock %}