<!DOCTYPE html>
<html>
<head>
    <style>
        .bubble{
            position: absolute;
        }
    </style>
  <title>Text Selection Example</title>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      let selection = '';
  
      document.addEventListener('mouseup', function(event) {
        if (event.target.classList.contains('drag')) {
            selection = window.getSelection().toString();
            console.log('Selected text:', selection);
            if (selection !== '') {
                const x = event.clientX;
                const y = event.clientY;
                console.log('Mouse up at:', x, y);
                console.log(selection);

                const bubble = document.createElement('div');
                bubble.classList.add('bubble');
                bubble.textContent = selection;
                bubble.style.top = (y - 30) + 'px';
                bubble.style.left = (x) + 'px';
                document.body.appendChild(bubble);
                setTimeout(function() {
                    bubble.remove();
                }, 3000);
                
                selection = ''; // reset selection

            }
        }
      });
    });
  </script>
  
</head>
<body>
  <h1>Text Selection Example</h1>
  <p class="drag">Select some text with your mouse cursor:</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vehicula laoreet metus ac ullamcorper. Duis scelerisque libero eu nunc eleifend elementum.</p>
</body>
</html>
