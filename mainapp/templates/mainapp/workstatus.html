{% extends 'base.html' %} {% load static %} {% block style %}
<link rel="stylesheet" href="{% static 'mainapp/css/workStatus.css' %}?after" />
{% endblock %} {% block content-title %}
<h2 class="content-title fs-large fw-600 gray-200">Data Status</h2>
{% endblock %} {% block content %}
<div class="first-desc primary-bg gray-100">
  <div class="first-desc-wrap">
    <form style="display: inline-block" action="" method="get">
      {% csrf_token %}

      <p class="subject">제품 선택</p>
      <select
        name="category_product"
        onchange="this.form.submit()"
        class="subjectSelect"
      >
        {% for product_name in product_names %}
        <option value="{{ product_name.category_product }}">
          {{ product_name.category_product }}
        </option>
        {% endfor %}
      </select>
    </form>

    <div class="totalBar">
      <div class="right_top top1">총 개수 {{ alltotal }}</div>
      <div class="right_top top2">작업완료 {{ first_num }}</div>
      <div class="right_top top3">검수완료 {{ second_num }}</div>
      <div class="right_top top4">삭제 {{ dummy_num }}</div>
    </div>

    <div class="workStatus_now">
      <a href="{% url 'mainapp:workstatus_count' %}" style="display: block"
        >작업자별 진행 현황</a
      >
    </div>
    <div class="category_wrap">
      <div class="category category_1">
        <div class="category_column">
          <table>
            <thead>
              <tr>
                <th> <div class="data_label label1" >카테고리↓</div></th>
                <th><div class="data_label">
                  <a href="#" onclick="return chk_form('positive_sort')">긍정↓</a>
                  <form method="post" class="sort">
                    {% csrf_token %}
                    <input type="hidden" name="sort" value="positive" />
                  </form>
                </div></th>
                <th><div class="data_label">
                  <a href="#" onclick="return chk_form('negative_sort')">부정↑</a>
                  <form method="post" class="sort" id="negative_sort">
                    {% csrf_token %}
                    <input type="hidden" name="sort" value="negative" />
                  </form>
                </div></th>
                <th><div class="data_label">
                  <a href="#" onclick="return chk_form('neutral_sort')">중립↓</a>
                  <form method="post" class="sort" id="neutral_sort">
                    {% csrf_token %}
                    <input type="hidden" name="sort" value="neutral" />
                  </form>
                </div></th>
                <th><div class="data_label">
                  <a href="#" onclick="return chk_form('everything_sort')">총개수↓</a>
                  <form method="post" class="sort" id="everything_sort">
                    {% csrf_token %}
                    <input type="hidden" name="sort" value="everything" />
                  </form>
                </div></th>
              </tr>
            </thead>
            <tbody>
              {% for category_detail_list, positive, negative, neutral, everything,order in  data %}

              <tr>
                <td><div class="date_space_cut cut1">
                  <p>{{ category_detail_list }}</p>
                </div>
                </td>
                <td><div class="date_space_cut" >
                  <p>
                    <a
                      href="?category_product={{ category_product }}&showing_index={{ order }}&showing_type=positive"
                      >{{ positive.count }}</a
                    >
                  </p>
                </div>
                </td>
                <td><div class="date_space_cut" >
                  <p>
                    <a
                      href="?category_product={{ category_product }}&showing_index={{ order }}&showing_type=negative"
                      >{{ negative.count }}</a
                    >
                  </p>
                </div>
                </td>
                <td> <!-- 중립 개수 -->
                  <div class="date_space_cut" >
                    <p>
                      <a
                        href="?category_product={{ category_product }}&showing_index={{ order }}&showing_type=neutral"
                        >{{ neutral.count }}</a
                      >
                    </p>
                  </div>
                </td>
                <td><div class="date_space_cut" >
                  <p>
                    <a
                      href="?category_product={{ category_product }}&showing_index={{ order }}&showing_type=everything"
                      >{{ everything.count }}</a
                    >
                  </p>
                </div>       
              </td>
              </tr>
              {% endfor %}
            </tbody>
          </table> 
        </div>
      </div>
      <div class="category category_2">
        <div class="category_target">
          <table>
            <thead>
              <tr>
                <th><div class="data_label">대상</div></th>
                <th><div class="data_label">현상</div></th>
              </tr>
            </thead>
            <tbody>
              {% for word in labeled_word %}
              <tr>
                <td><div class="date_space_cut" style="font-style: normal;
                  font-weight: 400;
                  font-size: 12px;
                  line-height: 24px;">
                  {{ word.first_labeled_target }}
                </div></td>
                <td><div class="date_space_cut" style="font-style: normal;
                  font-weight: 400;
                  font-size: 12px;
                  line-height: 24px;">
                  {{ word.first_labeled_expression }}
                </div></td>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="category category_3">
        <div class="category_review">
          <table>
            <thead>
              <tr>
                <th><div class="data_label" style="padding:auto">번호</div></th>
                <th><div class="data_label">데이터</div></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                {% for review in labeled_review %}
              </tr>
              <td class="date_space_cut">
                {{ review.review_number }}
              </td>
              <td class="date_space_cut" style="font-style: normal;
              font-weight: 400;
              font-size: 12px;
              line-height: 24px;">
                {{ review.review_content }}
              </td>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
